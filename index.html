
  <!DOCTYPE html>
  <html lang="en">
  <body>
  <script src="https://unpkg.com/gojs@2.2.20/release/go.js"></script>


<div id="sample">
  <!-- The DIV for the Diagram needs an explicit size or else we won't see anything.
       This also adds a border to help see the edges of the viewport. -->
  <div id="myDiagramDiv" style="border: 1px solid black; width: 800px; height: 800px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);"><canvas tabindex="0" width="398" height="398" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 398px; height: 398px;">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 398px; height: 398px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
  




  <button onClick="addPlaintiff()">Add Plaintiff</button>
  <button onClick = "addDefendant()">Add Defendant</button><br>
  <br>
  Claim Between <select id="party1"></select> and <select id="party2"></select><br>
  <button onclick="addClaim('normal')">Add Claim</button>
  <button onclick="addClaim('cross')">Add CrossClaim</button>
  <button onclick="addClaim('counter')">Add CounterClaim</button>
  <button onclick="addClaim('3rd')">Add 3rdPartyClaim</button>



<script id="code">
var $ = go.GraphObject.make;
const myDiagram =
  new go.Diagram("myDiagramDiv",  // create a Diagram for the HTML Div element
    { "undoManager.isEnabled": true });  // enable undo & redo

// define a simple Node template
myDiagram.nodeTemplate =
  new go.Node("Auto")  // the Shape will go around the TextBlock
    .add(new go.Shape("RoundedRectangle",
      { strokeWidth: 0, fill: "white" })  // no border; default fill is white
      .bind("fill", "color"))  // Shape.fill is bound to Node.data.color
    .add(new go.TextBlock(
      { margin: 8, font: "bold 14px sans-serif", stroke: '#333' })  // some room around the text
      .bind("text", "key"));  // TextBlock.text is bound to Node.data.key

myDiagram.linkTemplate =
  $(go.Link,
    { curve: go.Link.Bezier },  // Bezier curve
    $(go.Shape,new go.Binding("strokeDashArray", "dash")),
    $(go.Shape, { toArrow: "Standard" })
  );

plaintiffs = 0
defendants = 0

// create the model data that will be represented by Nodes and Links
nodes =  [
    
  ];
links =  [
  ];
myDiagram.model = new go.GraphLinksModel(nodes,links);


function updatemyDiagram() {
  myDiagram.model = new go.GraphLinksModel(nodes,links);
}


function addClaim(typeOfClaim) {
  var e1 = document.getElementById("party1");
  var text1 = e1.options[e1.selectedIndex].text;
  var e2 = document.getElementById("party2");
  var text2 = e2.options[e2.selectedIndex].text;
  switch(typeOfClaim){
    case "normal":
    linkToDo = {from: text1, to:text2};
      break;
      case "cross":
      linkToDo = {from: text1, to:text2, dash: [3,2]};
      break;
        case "counter":
        linkToDo = {from: text1, to:text2 , dash: [10,5]};
        break;
        case "3rd":
        linkToDo = {from: text1, to:text2, dash: [1,4]};
        break;
  }
 
  links.push(linkToDo)
  console.log(links);
  updatemyDiagram();

}


function addPlaintiff() {
  console.log("Adding plaintiff");
  plaintiffs = plaintiffs + 1
  nodes.push({key:"Plt" + plaintiffs, color:"lightgreen"});
  let newOption = new Option('Plt' + plaintiffs)
  select = document.querySelector('#party1');
  select.add(newOption,undefined);
  let newOption2 = new Option('Plt' + plaintiffs)
  select = document.querySelector('#party2');
  select.add(newOption2,undefined);
  
  updatemyDiagram();
}

function addDefendant() {
  console.log("Adding defendant");
  defendants = defendants + 1
  nodes.push({key:"Def" + defendants, color:"lightblue"});
  let newOption = new Option('Def' + defendants)
  select = document.querySelector('#party1');
  select.add(newOption,undefined);
  let newOption2 = new Option('Def' + defendants)
  select = document.querySelector('#party2');
  select.add(newOption2,undefined);
  updatemyDiagram();
}


</script>





</div>
  </body>
  </html>